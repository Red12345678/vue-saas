webpackJsonp([4],{"+qAU":function(t,e,n){"use strict";var a=n("Yarq"),r=n.n(a),s=n("AA3o"),o=n.n(s),i=n("xSur"),u=n.n(i),c=n("UzKs"),l=n.n(c),d=n("Y7Ml"),p=n.n(d),f=n("zO6J"),h=n("jSlU"),v=n("4YfN"),m=n.n(v),g=n("9rMa"),b={name:"hamburger",props:{isActive:{type:Boolean,default:!1},toggleClick:{type:Function,default:null}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("svg",{staticClass:"svg-icon hamburger",class:{"is-active":this.isActive},attrs:{t:"1492500959545",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1691","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"64",height:"64"},on:{click:this.toggleClick}},[e("path",{attrs:{d:"M966.8023 568.849776 57.196677 568.849776c-31.397081 0-56.850799-25.452695-56.850799-56.850799l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 543.397081 998.200404 568.849776 966.8023 568.849776z","p-id":"1692"}}),this._v(" "),e("path",{attrs:{d:"M966.8023 881.527125 57.196677 881.527125c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 856.07443 998.200404 881.527125 966.8023 881.527125z","p-id":"1693"}}),this._v(" "),e("path",{attrs:{d:"M966.8023 256.17345 57.196677 256.17345c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.850799 56.850799-56.850799l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.850799l0 0C1023.653099 230.720755 998.200404 256.17345 966.8023 256.17345z","p-id":"1694"}})])])},staticRenderFns:[]};var _=n("Z0/y")(b,w,!1,function(t){n("Kxkz")},"data-v-98c3aba0",null).exports,E={computed:m()({},Object(g.c)(["isOpenMenu"])),methods:m()({},Object(g.b)(["toggleMenu"]),{logout:function(){}}),components:{Hamburger:_}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-header clearFix"},[n("div",{staticClass:"app-header-brand"},[n("a",{staticClass:"app-logo",attrs:{href:"javascript:void(0)"}},[n("span",[t._v("极"),t.isOpenMenu?n("span",[t._v("速校园")]):t._e()])])]),t._v(" "),n("div",{staticClass:"app-header-content"},[n("el-row",{staticClass:"app-header-bar"},[n("el-col",{staticClass:"text-left",attrs:{span:12}},[n("a",{staticClass:"ib mr10",attrs:{href:"javascript:void(0)"},on:{click:t.toggleMenu}},[n("i",{staticClass:"fa",class:{"fa-dedent":t.isOpenMenu,"fa-indent":!t.isOpenMenu}})])]),t._v(" "),n("el-col",{staticClass:"text-right",attrs:{span:12}},[n("el-dropdown",{staticClass:"avatar-container",attrs:{trigger:"click"}},[n("div",{staticClass:"avatar-wrapper"},[n("span",{staticClass:"ib vm avatar-user text-ellipsis"},[t._v("大奥博")]),t._v(" "),n("i",{staticClass:"ib vm mr5 el-icon-caret-bottom"}),t._v(" "),n("img",{staticClass:"user-avatar",attrs:{src:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80"}})]),t._v(" "),n("el-dropdown-menu",{staticClass:"user-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[n("router-link",{staticClass:"inlineBlock",attrs:{to:"/"}},[n("el-dropdown-item",[t._v("\n                Home\n              ")])],1),t._v(" "),n("el-dropdown-item",{attrs:{divided:""}},[n("span",{staticStyle:{display:"block"},on:{click:t.logout}},[t._v("LogOut")])])],1)],1)],1)],1)],1)])},staticRenderFns:[]},k=n("Z0/y")(E,y,!1,null,null,null).exports,M={data:function(){return{}},computed:m()({routerActive:function(){return this.$route.path}},Object(g.c)(["isOpenMenu","menuList"])),methods:{}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-aside"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":t.routerActive,collapse:!t.isOpenMenu}},t._l(t.menuList,function(e,a){return n("el-submenu",{key:a,attrs:{index:e.path}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.meta.title))])]),t._v(" "),t._l(e.children,function(e,a){return n("el-menu-item",{key:a,attrs:{index:e.path}},[t._v("\n            "+t._s(e.meta.title)+"\n      ")])})],2)}))],1)},staticRenderFns:[]},S=n("Z0/y")(M,C,!1,null,null,null).exports,x={computed:m()({},Object(g.c)(["isOpenMenu"])),components:{HeaderTop:k,MenuBar:S}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper",class:{"app-wrapper-collapse":!this.isOpenMenu}},[e("header-top"),this._v(" "),e("menu-bar"),this._v(" "),e("div",{staticClass:"app-content"},[e("transition",{attrs:{name:"move",mode:"out-in"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]},O=n("Z0/y")(x,R,!1,null,null,null).exports,T=n("F0Xs"),A=function(t){function e(){o()(this,e);var t=l()(this,(e.__proto__||r()(e)).call(this));return t.authRouterModules=[n("rBwR").routers],t.appRouterModules=[n("pIbr").routers],t.rootPath=[{path:"/auth",component:T.default,children:[]},{path:"/app",component:O,requiresAuth:!0,children:[]},{path:"*",redirect:"/auth/login"}],t.vueRouter=new f.a({routes:t.rootPath,scrollBehavior:U}),t.vueRouter.beforeEach(function(t,e,n){console.log("进入钩子函数.."),t.meta.title&&(document.title=t.meta.title),t.matched.some(function(t){return t.meta.requireAuth})?(console.log("需要验证当前是否具备权限"),n()):n()}),t.vueRouter.afterEach(function(t,e){console.log("tt钩子函数..")}),t.loadRouters(),t}return p()(e,t),u()(e,[{key:"loadRouters",value:function(){var t=[],e=[];this.authRouterModules.forEach(function(e){t=t.concat(e)}),this.appRouterModules.forEach(function(t){e=e.concat(t)}),console.log(e),console.log(this.appRouterModules),this.rootPath[0].children=t,this.rootPath[1].children=e,this.vueRouter.addRoutes(this.rootPath)}}]),e}(h.a),U=(e.a=A,function(t,e,n){if(n)return setTimeout(function(){window.scrollTo(n.x,n.y)},400),n;var a={};return t.hash&&(a.selector=t.hash),t.matched.some(function(t){return t.meta.scrollToTop})&&(a.x=0,a.y=0),a})},"/RuH":function(t,e,n){"use strict";var a,r=n("rVsN"),s=n.n(r),o=n("3cXf"),i=n.n(o),u=n("aozt"),c=n.n(u),l=n("DEjr"),d=n.n(l),p=(n("MVMM"),n("panT")),f=(n("RWS9"),{ratioElementForWindow:function(t,e){var n=e||document.body.clientWidth;return{w:n,h:parseFloat((n/t).toFixed(2))}},getParams:function(){var t=location.search,e=new Object;if(-1!=t.indexOf("?")){var n=t.substr(1);strs=n.split("&");for(var a=0;a<strs.length;a++)e[strs[a].split("=")[0]]=unescape(strs[a].split("=")[1])}return e},encodeParam:function(t){for(var e="",n=0;n<t.length;n++){var a=t[n].value;0==n?e+="?"+t[n].key+"="+encodeURI(a):(a=t[n].value,e+="&"+t[n].key+"="+encodeURI(a))}return e},getParamByName:function(t,e){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(n);return e&&(a=decodeURIComponent(window.location.search).substr(1).match(n)),null!=a?unescape(a[2]):null},parseUrlByParams:function(t,e){var n,a=0;for(var r in-1!=t.indexOf("?")&&(n=!0),e)void 0!=e[r]&&null!=e[r]&&(t+=0!=a||n?"&"+r+"="+e[r]:"?"+r+"="+e[r],a++);return t},reloadPage:function(t){t||(t=0),setTimeout(function(){window.location=window.location},t)},jumpPage:function(t,e){e||(e=0),setTimeout(function(){window.location.href=t},e)}}),h=n("wtEF"),v=n("+qAU"),m={style:"",data:{}},g=function(t,e){var n,a=0;for(var r in-1!=t.indexOf("?")&&(n=!0),e)void 0!=e[r]&&null!=e[r]&&(t+=0!=a||n?"&"+r+"="+e[r]:"?"+r+"="+e[r],a++);return t},b=function(t,e,n,r){return n=n||{},r=r||{},e=g(e,n),a({method:t,headers:{"Content-Type":"application/json"},data:r,url:e})};e.a={init:function(){a?console.error("axInstance已经初始化!"):((a=c.a.create({timeout:5e3,withCredentials:!1,responseType:"json"})).interceptors.request.use(function(t){return console.log(t),"application/json"==t.headers["Content-Type"]&&m&&(m.data=t.data,t.data=i()(m)),h.a.state.user.token&&(t.url=f.parseUrlByParams(t.url,{token:h.a.state.user.token})),t},function(t){}),a.interceptors.response.use(function(t){var e=t.data;switch(e.rtnCode){case"0000000":return s.a.resolve(e);case"6666666":p.a.toastError("token不正确或过期 请重新登录"),v.a.getInstance().vueRouter.replace({path:"/auth/login"});break;default:return p.a.toastError(e.msg),s.a.reject(e)}},function(t){var e={};if(t.response){switch(t.response.status){case 500:e.content="服务器错误";break;case 401:e.content="请重新登录";break;case 403:e.content="您没有权限";break;case 404:e.content="获取资源错误404";break;case 408:e.content="服务器超时";break;default:e.content="网络不给力,请稍后再试~"}e.status=t.response.status}else e.content="网络错误，请求超时",e.state=t.code;return p.a.toastError(e.content),s.a.reject(t)}))},postJSON:function(t,e,n){return b("POST",t,e,n)},getJSON:function(t,e){return b("GET",t,e)},postForm:function(t,e,n){return function(t,e,n,r){return n=n||{},r=r||{},e=g(e,n),a({method:t,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},data:d.a.stringify(r),url:e})}("POST",t,e,n)},uploadFile:function(t,e){}}},"/rvs":function(t,e){},"/u18":function(t,e){},A1pQ:function(t,e,n){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[e("router-view")],1)},staticRenderFns:[]};e.a=a},ANWq:function(t,e){},BWiC:function(t,e){},F0Xs:function(t,e,n){"use strict";var a=n("thPv"),r=n.n(a),s=n("A1pQ"),o=n("Z0/y")(r.a,s.a,!1,null,null,null);e.default=o.exports},K6VE:function(t,e){},Kxkz:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("MVMM"),r=(n("panT"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app app-header-fixed",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var s=n("Z0/y")({name:"App",created:function(){this.$store.dispatch("getMenuList")}},r,!1,function(t){n("/u18")},null,null).exports,o=n("wtEF"),i=(n("wYMm"),n("+qAU"));new a.default({el:"#app",store:o.a,router:i.a.getInstance().vueRouter,components:{App:s},template:"<App/>"})},Pfph:function(t,e,n){"use strict";var a=n("AA3o"),r=n.n(a),s=n("xSur"),o=n.n(s),i=n("/RuH"),u=n("wYMm"),c=function(){function t(){r()(this,t)}return o()(t,null,[{key:"login",value:function(t){return i.a.postJSON(u.a.SERVER.url.uc+"/user/saasLogin",{},t)}},{key:"getUserInfo",value:function(){return i.a.postJSON(u.a.SERVER.url.kidscare+"/user/queryUserInfo")}}]),t}();e.a=c},RWS9:function(t,e,n){"use strict";var a=n("3cXf");n.n(a)},glhi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n("ANWq"),s=n.n(r),o=n("lC5x"),i=n.n(o),u=n("J0Oq"),c=n.n(u),l=n("Pfph"),d=n("zY+Z").a.keyMirror({GET_USER_INFO_SUCCESS:null,GET_TOKEN:null}),p={getUserInfo:function(t){var e=this,n=t.commit;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getUserInfo();case 2:a=t.sent,n(d.GET_USER_INFO_SUCCESS,{data:a.bizData});case 4:case"end":return t.stop()}},t,e)}))()},getToken:function(t){var e=this,n=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.login(a);case 2:r=t.sent,n(d.GET_TOKEN,{data:r.bizData});case 4:case"end":return t.stop()}},t,e)}))()}},f=n("a3Yh"),h=n.n(f),v=(n("RWS9"),a={},h()(a,d.GET_USER_INFO_SUCCESS,function(t,e){t.userInfo=e.data.userInfo}),h()(a,d.GET_TOKEN,function(t,e){t.token=e.data.token}),a);n.d(e,"userModule",function(){return m});var m={state:{userInfo:{},token:""},getters:s.a,actions:p,mutations:v}},jSlU:function(t,e,n){"use strict";var a=n("AA3o"),r=n.n(a),s=n("xSur"),o=n.n(s),i=function(){function t(){r()(this,t)}return o()(t,null,[{key:"getInstance",value:function(){return!1==this.instance instanceof this&&(this.instance=new this),this.instance}}]),t}();e.a=i},"mxG+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n("lC5x"),s=n.n(r),o=n("J0Oq"),i=n.n(o),u=n("zY+Z").a.keyMirror({TOGGLE_MENU:null,GET_MENU_LIST:null}),c={toggleMenu:function(t){(0,t.commit)(u.TOGGLE_MENU)},getMenuList:function(t){var e=this,n=t.commit;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[{key:"finance",values:[{key:"charge",values:[{key:"plan",values:[]},{key:"charge",values:[]}]},{key:"refund",values:[{key:"charge",values:[]},{key:"setting",values:[]}]},{key:"report",values:[]}]}],n(u.GET_MENU_LIST,{data:a});case 2:case"end":return t.stop()}},t,e)}))()}},l=(n("HzJ8"),n("a3Yh")),d=n.n(l),p=(n("RWS9"),n("+qAU")),f=(a={},d()(a,u.TOGGLE_MENU,function(t,e){t.menuStatus=1==t.menuStatus?0:1}),d()(a,u.GET_MENU_LIST,function(t,e){t.menuList=p.a.getInstance().rootPath[1].children}),a);n.d(e,"appModule",function(){return h});var h={state:{menuStatus:1},getters:{isOpenMenu:function(t){return 1==t.menuStatus},menuList:function(t){return t.menuList||[]}},actions:c,mutations:f}},pIbr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},r=n("Z0/y")(null,a,!1,null,null,null).exports;n.d(e,"routers",function(){return s});var s=[{path:"/app/finance",component:r,meta:{title:"财务模块"},children:[{path:"/app/finance/charge",component:function(){return n.e(0).then(n.bind(null,"yK6+"))},meta:{title:"收费记录",pms:"app.finance.charge",requireAuth:!0}},{path:"/app/finance/refund",component:function(){return n.e(1).then(n.bind(null,"Jk8W"))},meta:{title:"退费记录",pms:"app.finance.refund",requireAuth:!0}}]}]},panT:function(t,e,n){"use strict";var a=n("aA9S"),r=n.n(a),s=n("AA3o"),o=n.n(s),i=n("xSur"),u=n.n(i),c=n("5VXh"),l=(n.n(c),function(){function t(){o()(this,t)}return u()(t,null,[{key:"toastBase",value:function(t,e,n){if(e){var a={message:e,type:t};Object(c.Message)(r()(a,n))}}},{key:"toastSuccess",value:function(e,n){t.toastBase("success",e,n)}},{key:"toastError",value:function(e,n){t.toastBase("error",e,n)}},{key:"toastInfo",value:function(e,n){t.toastBase("info",e,n)}},{key:"toastWarning",value:function(e,n){t.toastBase("warning",e,n)}}]),t}());e.a=l},rBwR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"routers",function(){return a});var a=[{path:"/auth/login",component:function(){return n.e(2).then(n.bind(null,"pDxt"))},meta:{title:"登录页面"}}]},thPv:function(t,e){},wYMm:function(t,e,n){"use strict";var a=n("Yarq"),r=n.n(a),s=n("AA3o"),o=n.n(s),i=n("xSur"),u=n.n(i),c=n("UzKs"),l=n.n(c),d=n("Y7Ml"),p=n.n(d),f=n("MVMM"),h=n("zO6J"),v=n("9rMa"),m=function(){f.default.filter("date",function(t,e){return new Date(t).Format(e)})};Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};var g=n("5VXh"),b=n.n(g),w=(n("BWiC"),n("/rvs"),n("K6VE"),n("jSlU")),_=n("8zml"),E=n.n(_);function y(t){var e=new t;E()(e,{on:{get:function(){return this.$on}},once:{get:function(){return this.$once}},off:{get:function(){return this.$off}},emit:{get:function(){return this.$emit}}}),t.bus=e,Object.defineProperty(t.prototype,"$bus",{get:function(){return e}})}"undefined"!=typeof window&&window.Vue&&window.Vue.use(y);var k=y,M=n("aozt"),C=n.n(M),S=n("MCwt"),x=n.n(S),R=n("/RuH"),O={name:"basic-dialog",data:function(){return{visible:this.dialogVisible}},props:{title:{type:String,default:"极速校园"},customClass:{type:String,default:"small-dialog"},dialogVisible:{type:Boolean,default:!1},handleCloseCallback:Function,handleSubmitCallback:Function},methods:{handleCancel:function(){this.visible=!1,"function"==typeof this.handleCloseCallback&&this.handleCloseCallback()},handleSubmit:function(){var t=!0;"function"==typeof this.handleSubmitCallback&&(t=this.handleSubmitCallback()),t&&(this.visible=!1)},handleCloseDialogCallback:function(){this.updateDialogVisible()},updateDialogVisible:function(){this.$emit("update:dialogVisible",!1)}},watch:{dialogVisible:function(){this.visible=this.dialogVisible}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.visible,"custom-class":t.customClass},on:{"update:visible":function(e){t.visible=e},close:t.handleCloseDialogCallback}},[t._t("default"),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],2)},staticRenderFns:[]},A=n("Z0/y")(O,T,!1,null,null,null).exports;A.install=function(t){t.component(A.name,A)};var U=A,F=function(t){function e(){o()(this,e);var t=l()(this,(e.__proto__||r()(e)).call(this));return t.SERVER={url:{kidscare:"/kidscare",saas:"/kidscare",credit:"/credit",uc:"/uc",qrcode:"/qrcode",ucm:"/ucm",yucai:"/yucai",cmw:"/cmw",yxb:"/yxbAppWeb",freedom:"/freedom",boss:"/boss",baby:"/baby",robrain:"/robrain",message:"/message",file:"/file",vip:"/vip",topic:"/topic"}},f.default.use(h.a),f.default.use(b.a),f.default.use(x.a,C.a),f.default.use(v.a),f.default.use(k),m(),f.default.use(b.a,{size:"small"}),f.default.config.debug=!0,f.default.config.productionTip=!1,R.a.init(),t.checkEnv("test"),U.install(f.default),t}return p()(e,t),u()(e,[{key:"checkEnv",value:function(t){var e=window.location.origin||"";for(var n in t=t?"formal"==t?"":t:e.indexOf("localhost")>0||e.indexOf("127.0.0.1")>-1?"dev":e.indexOf("dev")>0?"dev":e.indexOf("test")>0?"test":e.indexOf("pre")>0?"pre":"",this.SERVER.env=t,this.SERVER.url){t;var a=t+".imzhiliao.com";this.SERVER.url[n]=window.location.protocol+"//"+a+this.SERVER.url[n]}console.log("当前root : ",e),console.log("当前环境地址: ",this.SERVER.url)}}]),e}(w.a);e.a=F.getInstance()},wtEF:function(t,e,n){"use strict";var a=n("9rMa"),r=n("6LYt"),s=(n.n(r),n("KBo/")),o={key:"appStore",paths:["user","app"]};console.log(n("mxG+").appModule);var i,u=new a.a.Store({modules:{user:n("glhi").userModule,app:n("mxG+").appModule},plugins:(i=[Object(s.a)(o)],i),strict:!1});e.a=u},"zY+Z":function(t,e,n){"use strict";var a=n("ZLEe"),r=n.n(a),s=n("aA9S"),o=n.n(s);e.a={keyMirror:function(t){if(t instanceof Object){var e=o()({},t);return r()(t).forEach(function(t){return e[t]=t}),e}}}}},["NHnr"]);
//# sourceMappingURL=app.56a3e7ba206724047ca4.js.map